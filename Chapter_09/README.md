# Chapter 09: 공공 API를 활용한 경제 지표 데이터 수집 및 시각화

## 개요

이 챕터는 **"혼자 공부하는 파이썬"** 책의 내용을 기반으로, 한국은행 ECOS(경제통계시스템) API를 활용하여 경제 지표 데이터를 수집하고, 수집한 데이터를 시각화하는 프로젝트입니다.

## 학습 내용

- **공공 API 활용**: 한국은행 ECOS API를 통한 경제 통계 데이터 수집
- **데이터 수집**: 기준금리, 국고채, 회사채, 코스피지수, 원달러환율 등 다양한 경제 지표 수집
- **데이터 저장**: Excel 파일 형식으로 여러 지표를 시트별로 저장
- **데이터 시각화**: Matplotlib과 Seaborn을 활용한 시계열 데이터 시각화

## 프로젝트 구조

```
Chapter_09/
├── output/              # 결과 파일 저장 디렉터리
│   ├── step_2_1.csv     # 기준금리 데이터 (CSV)
│   ├── step_2_2.xlsx    # 여러 경제 지표 데이터 (Excel, 다중 시트)
│   ├── step_3_1.png     # 코스피지수 시계열 그래프
│   └── step_3_2.png     # 4개 지표 통합 시각화 (2x2 서브플롯)
├── step_1_1.py          # 출력 디렉터리 생성
├── step_1_2.py          # ECOS API 기본 사용법 테스트
├── step_2_1.py          # 기준금리 데이터 수집 및 CSV 저장
├── step_2_2.py          # 여러 경제 지표 수집 및 Excel 저장
├── step_3_1.py          # 코스피지수 단일 그래프 시각화
└── step_3_2.py          # 4개 지표 통합 시각화 (국고채, 회사채, 코스피지수, 원달러환율)
```

## 실행 순서

각 스크립트는 순차적으로 실행되어야 합니다:

1. **`step_1_1.py`**: `output` 폴더를 생성합니다.
2. **`step_1_2.py`**: ECOS API 기본 사용법을 테스트합니다.
3. **`step_2_1.py`**: 기준금리 데이터를 수집하여 CSV로 저장합니다.
4. **`step_2_2.py`**: 여러 경제 지표(기준금리, 국고채, 회사채, 코스피지수, 원달러환율)를 수집하여 Excel 파일의 각 시트에 저장합니다.
5. **`step_3_1.py`**: 코스피지수 데이터를 시계열 그래프로 시각화합니다.
6. **`step_3_2.py`**: 4개 지표를 2x2 서브플롯으로 통합 시각화합니다.

## 주요 기능

### API 데이터 수집
- 한국은행 ECOS API를 통한 경제 통계 데이터 수집
- 다양한 통계 코드와 주기(일별, 월별) 지원
- `datakart` 라이브러리를 활용한 간편한 API 호출

### 데이터 저장
- CSV 형식으로 단일 지표 저장
- Excel 형식으로 여러 지표를 시트별로 저장
- 데이터 타입 변환 및 전처리

### 시각화
- Seaborn을 활용한 시계열 데이터 시각화
- 한글 폰트 설정 (Malgun Gothic)
- 서브플롯을 활용한 다중 지표 통합 시각화
- 최근 100개 데이터 포인트만 표시 (step_3_2)

## 필요 라이브러리

- `datakart`: 공공 API 데이터 수집 라이브러리
- `pandas`: 데이터 처리 및 분석
- `matplotlib`: 기본 시각화
- `seaborn`: 고급 시각화 스타일링
- `python-dotenv`: 환경 변수 관리
- `openpyxl`: Excel 파일 읽기/쓰기

## 설정

프로젝트 실행 전, `.env` 파일을 생성하고 한국은행 ECOS API 키를 입력해야 합니다:

```env
ECOS_KEY="YOUR_ECOS_API_KEY"
```

ECOS API 키는 [한국은행 경제통계시스템](https://ecos.bok.or.kr/)에서 발급받을 수 있습니다.

## 참고사항

- 이 프로젝트는 학습 목적으로 작성되었습니다.
- ECOS API는 일일 호출 제한이 있을 수 있으니 주의하세요.
- 데이터 수집 기간과 주기는 코드에서 조정할 수 있습니다.

